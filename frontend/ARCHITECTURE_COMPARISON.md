# æ¶æ„å¯¹æ¯”ï¼šå‡çº§å‰å

## æ€»ä½“å¯¹æ¯”

### å‡çº§å‰ (v0.1)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å‰ç«¯åº”ç”¨                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  App.tsx                                    â”‚
â”‚  â””â”€ ThemeProvider (è‡ªå®šä¹‰)                 â”‚
â”‚     â””â”€ GlobalNavbar (è‡ªå®šä¹‰)               â”‚
â”‚     â””â”€ FileInput (è‡ªå®šä¹‰)                  â”‚
â”‚     â””â”€ å…¶ä»–è‡ªå®šä¹‰ç»„ä»¶                      â”‚
â”‚                                             â”‚
â”‚  âš ï¸  æ²¡æœ‰ä¸“ä¸š UI ç»„ä»¶åº“                    â”‚
â”‚  âš ï¸  æ ·å¼å…¨éƒ¨è‡ªå®šä¹‰                        â”‚
â”‚  âš ï¸  ä¸ JBrowse æ— ç›´æ¥é›†æˆ                â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å‡çº§å (v0.2 - æ–¹æ¡ˆ B)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               å‰ç«¯åº”ç”¨ï¼ˆæ··åˆæ¶æ„ï¼‰                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  App.tsx                                             â”‚
â”‚  â””â”€ CombinedThemeProvider â† æ–°å¢                    â”‚
â”‚     â”œâ”€ CustomThemeProvider (ä¿ç•™)                   â”‚
â”‚     â”‚  â””â”€ è‡ªå®šä¹‰ä¸»é¢˜ç³»ç»Ÿ                           â”‚
â”‚     â”‚                                               â”‚
â”‚     â””â”€ MuiThemeProvider â† æ–°å¢                     â”‚
â”‚        â””â”€ MUI ä¸»é¢˜ï¼ˆè‡ªåŠ¨è½¬æ¢ï¼‰                     â”‚
â”‚                                                      â”‚
â”‚     â”œâ”€ GlobalNavbarMUI â† æ–°ç»„ä»¶                    â”‚
â”‚     â”œâ”€ FileInputMUI â† æ–°ç»„ä»¶                       â”‚
â”‚     â”œâ”€ GlobalNavbar (åŸæœ‰ï¼Œå¯é€‰)                  â”‚
â”‚     â”œâ”€ FileInput (åŸæœ‰ï¼Œå¯é€‰)                     â”‚
â”‚     â””â”€ å…¶ä»–ç»„ä»¶                                    â”‚
â”‚                                                      â”‚
â”‚  âœ… ä¸“ä¸š MUI ç»„ä»¶åº“é›†æˆ                            â”‚
â”‚  âœ… è‡ªå®šä¹‰å’Œ MUI ä¸»é¢˜åŒæ­¥                          â”‚
â”‚  âœ… å‘åå…¼å®¹ï¼Œæ— ç ´åæ€§æ”¹åŠ¨                         â”‚
â”‚  âœ… æ”¯æŒä¸ JBrowse æ— ç¼é›†æˆ                        â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸»é¢˜ç³»ç»Ÿæ¶æ„å¯¹æ¯”

### å‡çº§å‰
```
ç”¨æˆ·å®šä¹‰ä¸»é¢˜
    â†“
ThemeContext
    â†“
useTheme()
    â†“
inline styles + CSS modules
    â†“
UI æ˜¾ç¤º
```

### å‡çº§å
```
ç”¨æˆ·å®šä¹‰ä¸»é¢˜
    â†“
CombinedThemeProvider
    â”œâ”€â†’ ThemeContext
    â”‚   â”œâ”€â†’ useTheme()
    â”‚   â””â”€â†’ inline styles + CSS modules
    â”‚
    â””â”€â†’ createMuiThemeFromCustom()
        â””â”€â†’ MUI Theme
            â”œâ”€â†’ MUI ç»„ä»¶
            â””â”€â†’ Material Design

ç»“æœ: åŒç³»ç»ŸåŒæ­¥æ›´æ–°
```

---

## ç»„ä»¶æ¶æ„å¯¹æ¯”

### å¯¼èˆªæ 
```
å‡çº§å‰:                           å‡çº§å:
GlobalNavbar.tsx                  GlobalNavbar.tsx (ä¿ç•™)
â”œâ”€ NavLink (è‡ªå®šä¹‰)              GlobalNavbarMUI.tsx (æ–°)
â”œâ”€ inline styles                 â”œâ”€ AppBar (MUI)
â””â”€ CSS modules                   â”œâ”€ Toolbar (MUI)
                                â””â”€ Box (MUI)
                                â””â”€ ä½¿ç”¨ sx prop
```

### æ–‡ä»¶è¾“å…¥
```
å‡çº§å‰:                           å‡çº§å:
FileInput.tsx                     FileInput.tsx (ä¿ç•™)
â”œâ”€ è‡ªå®šä¹‰æŒ‰é’®                    FileInputMUI.tsx (æ–°)
â”œâ”€ input[type="file"]            â”œâ”€ TextField (MUI)
â”œâ”€ inline styles                 â”œâ”€ Button (MUI)
â””â”€ CSS modules                   â”œâ”€ FormControl (MUI)
                                â””â”€ ä½¿ç”¨ sx prop
```

---

## ä¾èµ–å¯¹æ¯”

### å‡çº§å‰
```
package.json ä¾èµ–:
â”œâ”€ react@19.0.0
â”œâ”€ react-dom@19.0.0
â”œâ”€ react-router-dom@7.9.4
â”œâ”€ i18next
â”œâ”€ react-i18next
â”œâ”€ react-markdown
â””â”€ @jbrowse/react-linear-genome-view@3.1.0 âŒ æ—§ç‰ˆæœ¬

å¼€å‘ä¾èµ–:
â”œâ”€ vite@6.0.0
â”œâ”€ typescript@5.3.3
â””â”€ eslint
```

### å‡çº§å
```
package.json ä¾èµ–:
â”œâ”€ react@19.0.0
â”œâ”€ react-dom@19.0.0
â”œâ”€ react-router-dom@7.9.4
â”œâ”€ i18next
â”œâ”€ react-i18next
â”œâ”€ react-markdown
â”œâ”€ @jbrowse/react-linear-genome-view2@3.7.0 âœ… æ–°ç‰ˆæœ¬
â”œâ”€ @mui/material@7.x âœ¨ æ–°å¢
â”œâ”€ @mui/icons-material@7.x âœ¨ æ–°å¢
â”œâ”€ @emotion/react âœ¨ æ–°å¢
â””â”€ @emotion/styled âœ¨ æ–°å¢

å¼€å‘ä¾èµ–:
â”œâ”€ vite@6.0.0
â”œâ”€ typescript@5.3.3
â””â”€ eslint
```

---

## æ–‡ä»¶ç»“æ„å¯¹æ¯”

### å‡çº§å‰
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ layout/GlobalNavbar/
â”‚   â”‚   â”‚   â”œâ”€â”€ GlobalNavbar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ GlobalNavbar.css
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ ui/FileInput/
â”‚   â”‚   â”‚   â”œâ”€â”€ FileInput.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FileInput.module.css
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ ...å…¶ä»–ç»„ä»¶
â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â””â”€â”€ ThemeContext.tsx
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ theme.ts
â”‚   â”‚   â””â”€â”€ i18n.ts
â”‚   â””â”€â”€ App.tsx
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

### å‡çº§å
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ layout/GlobalNavbar/
â”‚   â”‚   â”‚   â”œâ”€â”€ GlobalNavbar.tsx (åŸæœ‰)
â”‚   â”‚   â”‚   â”œâ”€â”€ GlobalNavbarMUI.tsx âœ¨ æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ GlobalNavbar.css
â”‚   â”‚   â”‚   â””â”€â”€ index.ts (å·²æ›´æ–°)
â”‚   â”‚   â”œâ”€â”€ ui/FileInput/
â”‚   â”‚   â”‚   â”œâ”€â”€ FileInput.tsx (åŸæœ‰)
â”‚   â”‚   â”‚   â”œâ”€â”€ FileInputMUI.tsx âœ¨ æ–°å¢
â”‚   â”‚   â”‚   â”œâ”€â”€ FileInput.module.css
â”‚   â”‚   â”‚   â””â”€â”€ index.ts (å·²æ›´æ–°)
â”‚   â”‚   â””â”€â”€ ...å…¶ä»–ç»„ä»¶
â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â””â”€â”€ ThemeContext.tsx
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ muiTheme.ts âœ¨ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ theme.ts
â”‚   â”‚   â””â”€â”€ i18n.ts
â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â””â”€â”€ CombinedThemeProvider.tsx âœ¨ æ–°å¢
â”‚   â””â”€â”€ App.tsx (å·²æ›´æ–°)
â”œâ”€â”€ package.json (å·²æ›´æ–°)
â”œâ”€â”€ QUICK_START.md âœ¨ æ–°å¢
â”œâ”€â”€ MUI_INTEGRATION_GUIDE.md âœ¨ æ–°å¢
â”œâ”€â”€ MIGRATION_SUMMARY.md âœ¨ æ–°å¢
â”œâ”€â”€ IMPLEMENTATION_REPORT.md âœ¨ æ–°å¢
â”œâ”€â”€ VERIFICATION_CHECKLIST.md âœ¨ æ–°å¢
â””â”€â”€ README.md
```

---

## æ ·å¼ç³»ç»Ÿå¯¹æ¯”

### å‡çº§å‰
```
æ ·å¼æ¥æº:
â”œâ”€ inline styles (style prop)
â”œâ”€ CSS modules (.module.css)
â””â”€ Global CSS (index.css)

ä¸»é¢˜ä¼ é€’:
useTheme() â†’ è·å–ä¸»é¢˜
    â†“
theme.colors.primary
theme.spacing.md
    â†“
inline styles

é—®é¢˜:
âš ï¸ æ ·å¼åˆ†æ•£
âš ï¸ éš¾ä»¥ç»´æŠ¤
âš ï¸ å®¹æ˜“å†²çª
```

### å‡çº§å
```
æ ·å¼æ¥æº:
â”œâ”€ MUI sx prop (æ¨èç”¨äºæ–°ç»„ä»¶)
â”œâ”€ inline styles (æ—§ç»„ä»¶ä¿ç•™)
â”œâ”€ CSS modules (æ—§ç»„ä»¶ä¿ç•™)
â””â”€ Global CSS (index.css)

ä¸»é¢˜ä¼ é€’:
CombinedThemeProvider
â”œâ”€ CustomThemeProvider
â”‚  â””â”€ useTheme() â†’ theme
â”‚     â””â”€ inline styles / CSS modules
â”‚
â””â”€ MuiThemeProvider
   â””â”€ createMuiThemeFromCustom()
      â””â”€ useTheme (MUI) â†’ theme
         â””â”€ sx prop / MUI components

ä¼˜åŠ¿:
âœ… æ ·å¼é›†ä¸­åœ¨ MUI
âœ… è‡ªå®šä¹‰æ ·å¼ä»å¯ç”¨
âœ… è‡ªåŠ¨ä¸»é¢˜åŒæ­¥
âœ… æ›´æ˜“ç»´æŠ¤
```

---

## ä¸»é¢˜åŒæ­¥æµç¨‹å¯¹æ¯”

### å‡çº§å‰
```
ç”¨æˆ·åˆ‡æ¢æ·±è‰²/æµ…è‰²
    â†“
ThemeContext.isDark æ›´æ–°
    â†“
æ‰€æœ‰ useTheme() è®¢é˜…æ›´æ–°
    â†“
åº”ç”¨é‡æ–°æ¸²æŸ“
    â†“
æ ·å¼åŸºäºæ–°ä¸»é¢˜é‡æ–°è®¡ç®—
    â†“
æ·±è‰²/æµ…è‰²æ˜¾ç¤º

é™åˆ¶:
âš ï¸ åªæ”¯æŒè‡ªå®šä¹‰ç»„ä»¶
âš ï¸ MUI ç»„ä»¶æ— æ³•ä½¿ç”¨
```

### å‡çº§å
```
ç”¨æˆ·åˆ‡æ¢æ·±è‰²/æµ…è‰²
    â†“
ThemeContext.isDark æ›´æ–°
    â†“
CombinedThemeProvider è§¦å‘
    â”œâ”€ CustomThemeProvider æ›´æ–°
    â”‚  â””â”€ useTheme() è®¢é˜…æ›´æ–°
    â”‚
    â””â”€ MuiThemeProvider æ›´æ–°
       â””â”€ createMuiThemeFromCustom() è½¬æ¢ä¸»é¢˜
          â””â”€ MUI ä¸»é¢˜å¯¹è±¡æ›´æ–°
    â†“
åº”ç”¨é‡æ–°æ¸²æŸ“
    â”œâ”€ è‡ªå®šä¹‰ç»„ä»¶: åŸºäº custom theme æ›´æ–°æ ·å¼
    â””â”€ MUI ç»„ä»¶: åŸºäº MUI theme æ›´æ–°æ ·å¼
    â†“
æ·±è‰²/æµ…è‰²æ˜¾ç¤ºï¼ˆä¸¤å¥—ç³»ç»ŸåŒæ­¥ï¼‰

ä¼˜åŠ¿:
âœ… æ”¯æŒè‡ªå®šä¹‰å’Œ MUI ç»„ä»¶
âœ… ä¸»é¢˜è‡ªåŠ¨åŒæ­¥
âœ… æ— éœ€æ‰‹åŠ¨å¤„ç†
âœ… æ‰©å±•æ€§å¼º
```

---

## å¼€å‘ä½“éªŒå¯¹æ¯”

### å‡çº§å‰
```
åˆ›å»ºæ–°ç»„ä»¶:
1. åˆ›å»º .tsx æ–‡ä»¶
2. åˆ›å»º .css æˆ– .module.css
3. æ‰‹å†™æ ·å¼é€»è¾‘
4. å¯¼å…¥ useTheme()
5. ä½¿ç”¨ inline styles

æ—¶é—´: â±ï¸ 20-30 åˆ†é’Ÿ
å¤æ‚åº¦: ğŸ”´ ä¸­ç­‰
é‡ç”¨æ€§: ğŸ“¦ ä½

UI è´¨é‡: â­â­ å–å†³äºè®¾è®¡å¸ˆ
```

### å‡çº§å
```
åˆ›å»ºæ–° MUI ç»„ä»¶:
1. åˆ›å»º .tsx æ–‡ä»¶
2. å¯¼å…¥ MUI ç»„ä»¶
3. ä½¿ç”¨ sx prop
4. å¯¼å…¥ useTheme()
5. åº”ç”¨ä¸»é¢˜

æ—¶é—´: â±ï¸ 5-10 åˆ†é’Ÿ
å¤æ‚åº¦: ğŸŸ¢ ä½
é‡ç”¨æ€§: ğŸ“¦ é«˜

UI è´¨é‡: â­â­â­â­â­ MUI è®¾è®¡ç³»ç»Ÿä¿è¯

ç¤ºä¾‹:
import { Box, Button } from '@mui/material'
import { useTheme } from './contexts/ThemeContext'

export function MyButton() {
  const { theme } = useTheme()
  return (
    <Box sx={{ 
      p: theme.spacing.md,
      backgroundColor: theme.colors.surface 
    }}>
      <Button>Click me</Button>
    </Box>
  )
}
```

---

## ä¸ JBrowse é›†æˆå¯¹æ¯”

### å‡çº§å‰
```
JBrowse ç»„ä»¶
â””â”€ ä½¿ç”¨ MUI v7 (å†…éƒ¨)

ä½ çš„åº”ç”¨
â””â”€ è‡ªå®šä¹‰ä¸»é¢˜ç³»ç»Ÿ

ç»“æœ:
âš ï¸ æ ·å¼å¯èƒ½å†²çª
âš ï¸ ä¸»é¢˜ä¸åŒæ­¥
âš ï¸ ç”¨æˆ·ä½“éªŒä¸ä¸€è‡´
```

### å‡çº§å
```
JBrowse ç»„ä»¶
â””â”€ ä½¿ç”¨ MUI v7 (å†…éƒ¨)

ä½ çš„åº”ç”¨
â”œâ”€ è‡ªå®šä¹‰ä¸»é¢˜ç³»ç»Ÿ (å…¼å®¹)
â””â”€ MUI v7 ä¸»é¢˜ç³»ç»Ÿ

ç»“æœ:
âœ… å®Œå…¨å…¼å®¹ JBrowse
âœ… ä¸»é¢˜è‡ªåŠ¨åŒæ­¥
âœ… ç”¨æˆ·ä½“éªŒä¸€è‡´
âœ… è§†è§‰æ•ˆæœç»Ÿä¸€
```

---

## æ€»ç»“è¡¨

| æ–¹é¢ | å‡çº§å‰ | å‡çº§å | æ”¹è¿› |
|-----|-------|--------|------|
| UI ç»„ä»¶åº“ | âŒ æ—  | âœ… MUI v7 | +å®Œæ•´ç»„ä»¶åº“ |
| ä¸»é¢˜ç³»ç»Ÿ | è‡ªå®šä¹‰ | åŒç³»ç»Ÿ | +è‡ªåŠ¨åŒæ­¥ |
| ä¸ JBrowse å…¼å®¹ | âš ï¸ é—´æ¥ | âœ… ç›´æ¥ | +å®Œå…¨å…¼å®¹ |
| å¼€å‘é€Ÿåº¦ | â±ï¸ 20-30m | â±ï¸ 5-10m | +3x å¿«é€Ÿ |
| ä»£ç ç»´æŠ¤ | ğŸ”´ å›°éš¾ | ğŸŸ¢ ç®€å• | +æ›´æ˜“ç»´æŠ¤ |
| æ ·å¼ä¸€è‡´æ€§ | âš ï¸ éƒ¨åˆ† | âœ… å®Œå…¨ | +å®Œå…¨ä¸€è‡´ |
| å‘åå…¼å®¹ | N/A | âœ… 100% | +æ— ç ´å |
| æ‰©å±•æ€§ | ğŸ“¦ ä½ | ğŸ“¦ é«˜ | +æ›´æ˜“æ‰©å±• |

---

æœ€åæ›´æ–°: 2025-11-11  
ç‰ˆæœ¬: v0.2 (æ–¹æ¡ˆ B æ··åˆæ¶æ„)
